# 用户中心模块字段梳理

## 一、用户相关字段

### 1. 用户基础信息字段

| 字段名        | 描述                 | 业务意义                                   |
| ------------- | -------------------- | ------------------------------------------ |
| id            | 用户唯一标识         | 系统内用户主键                             |
| openid        | 微信用户唯一标识     | 微信授权用户的唯一标识，用于微信相关功能   |
| unionid       | 微信开放平台唯一标识 | 用于多应用场景下识别同一用户               |
| nickname      | 用户昵称             | 显示用户名称，可由用户自定义修改           |
| avatarUrl     | 用户头像 URL         | 用户头像图片地址，支持相对路径或绝对路径   |
| sex           | 性别                 | 0-男，1-女                                 |
| province      | 省份                 | 用户所在省份，用于地域分析                 |
| city          | 城市                 | 用户所在城市，用于地域分析和本地化服务     |
| role          | 用户角色             | 1-普通用户，2-店员，用于权限控制和界面展示 |
| phone         | 手机号               | 用户联系方式，可用于短信通知和账号找回     |
| createTime    | 注册时间             | 用户创建账号的时间，用于用户生命周期分析   |
| updateTime    | 更新时间             | 用户信息最后更新时间                       |
| lastLoginTime | 最后登录时间         | 用户最近一次登录时间，用于活跃度分析       |
| token         | 用户令牌             | 用于 API 认证，非数据库存储字段            |

### 2. 用户统计字段

| 字段名                | 描述         | 业务意义                                           |
| --------------------- | ------------ | -------------------------------------------------- |
| balance               | 账户余额     | 用户可用于消费的金额                               |
| couponsCount          | 卡券数量     | 用户拥有的优惠券数量                               |
| consecutiveSignInDays | 连续签到天数 | 记录用户连续签到的天数，用于签到奖励机制           |
| totalSignInDays       | 总签到天数   | 记录用户总共签到的天数                             |
| lastSignInDate        | 最后签到日期 | 记录用户最后一次签到的日期，用于判断今日是否已签到 |
| inviteCount           | 邀请人数     | 用户成功邀请的新用户数量，用于推广激励             |
| level                 | 用户等级     | 用户在系统中的等级(1-5)，对应不同阶段和权益        |
| experience            | 经验值       | 用户累积的经验值，用于等级计算                     |
| isVip                 | 是否是 VIP   | 标记用户是否为付费会员，影响特权功能               |
| vipExpireTime         | VIP 到期时间 | 会员服务的到期时间                                 |

### 3. 用户等级体系字段

| 字段名        | 描述       | 业务意义                                       |
| ------------- | ---------- | ---------------------------------------------- |
| levelId       | 等级 ID    | 等级的唯一标识                                 |
| levelName     | 等级名称   | 等级的显示名称，如"新月初探"、"萤火微光"等     |
| levelValue    | 等级值     | 等级的数值，1-5 级                             |
| expRequired   | 所需经验值 | 达到该等级所需的最低经验值                     |
| coreImage     | 核心意象   | 该等级对应的视觉元素，如"弯月幼苗"、"流转萤火" |
| icon          | 等级图标   | 等级对应的图标 URL                             |
| visualEffect  | 视觉特效   | 等级专属的视觉特效，如"粒子特效"、"动态星空"   |
| benefits      | 等级权益   | 该等级拥有的特权，可存储为 JSON 格式的权益列表 |
| discountRate  | 折扣率     | 该等级享受的折扣比例，如 0.95 表示 95 折       |
| priorityLevel | 优先级     | 服务优先级，数值越高优先级越高                 |
| description   | 等级说明   | 对该等级的文字描述                             |

#### 用户等级体系说明

系统共设置 5 个等级，每个等级对应不同的头衔和权益：

1. **新月初探 (Level 1)**

   - 经验值: 0-999
   - 核心意象: 弯月幼苗图标
   - 视觉特效: 基础界面
   - 权益: 基础功能体验

2. **萤火微光 (Level 2)**

   - 经验值: 1000-4999
   - 核心意象: 流转萤火
   - 视觉特效: 粒子特效
   - 权益:
     - 优先匹配二星以上店员
     - 淡金色昵称边框

3. **星轨漫游 (Level 3)**

   - 经验值: 5000-19999
   - 核心意象: 动态星空轨迹
   - 视觉特效: 动态星空背景
   - 权益:
     - 深夜时段（22-6 点）服务 8 折
     - 专属闪光弹幕特效

4. **心屿灯塔 (Level 4)**

   - 经验值: 20000-49999
   - 核心意象: 光束旋转灯塔
   - 视觉特效: 灯塔动效
   - 权益:
     - 24h 急速客服通道
     - 每月免费插队券 3 张

5. **银河共鸣 (Level 5)**
   - 经验值: 50000+
   - 核心意象: 全息星云
   - 视觉特效: 星云环绕效果
   - 权益:
     - 年度消费返现 5%
     - 定制星座纪念品
     - 隐藏版高阶店员可见

### 4. 签到相关字段

| 字段名       | 描述         | 业务意义                         |
| ------------ | ------------ | -------------------------------- |
| signInDate   | 签到日期     | 用户签到的日期，格式 YYYY-MM-DD  |
| signInTime   | 签到时间     | 用户签到的具体时间               |
| signInReward | 奖励内容     | 签到获得的奖励，如积分、经验值等 |
| todaySignIn  | 今日是否签到 | 标记用户今天是否已签到           |

## 二、店员相关字段

### 1. 店员基础信息字段

| 字段名         | 描述     | 业务意义                                                    |
| -------------- | -------- | ----------------------------------------------------------- |
| birthday       | 生日     | 店员的生日信息，用于个性化服务                              |
| age            | 年龄     | 店员的年龄，用于展示和筛选                                  |
| constellation  | 星座     | 店员的星座，用于展示和兴趣匹配                              |
| bio            | 个人简介 | 店员的自我介绍，展示在店员详情页                            |
| status         | 状态     | 0-离线，1-在线，用于显示店员当前状态                        |
| signature      | 个性签名 | 店员的个性化签名，展示在个人资料中                          |
| sellerLevel    | 店员等级 | 店员的等级，对应等级体系中的 0-5 级，如"见习生"、"启明星"等 |
| starRating     | 店员星级 | 店员的评分星级，1-5 星，反映用户评价和服务质量              |
| sellerTags     | 店员标签 | 店员的特色标签，用于展示专长和特点                          |
| commissionRate | 分成比例 | 店员获得订单金额的分成比例，随等级提升                      |
| carouselImages | 轮播图集 | 店员个人主页的轮播展示图片，JSON 数组格式                   |
| voiceIntro     | 语音介绍 | 店员的语音自我介绍文件 URL                                  |
| voiceDuration  | 语音时长 | 语音介绍的时长(秒)                                          |

### 2. 店员统计字段

| 字段名             | 描述           | 业务意义                                 |
| ------------------ | -------------- | ---------------------------------------- |
| totalOrderCount    | 总订单数       | 店员完成的总订单数量                     |
| monthOrderCount    | 本月订单数     | 店员本月完成的订单数量                   |
| totalIncome        | 总收入         | 店员历史总收入                           |
| monthIncome        | 本月收入       | 店员本月收入                             |
| availableBalance   | 可提现余额     | 店员当前可提现的金额                     |
| frozenBalance      | 冻结余额       | 交易中或待结算的金额                     |
| lastWithdrawTime   | 上次提现时间   | 店员上次提现的时间，用于控制提现频率     |
| monthWithdrawCount | 本月提现次数   | 记录店员本月已提现次数，用于控制提现频率 |
| commentCount       | 评价数量       | 店员收到的评价总数                       |
| goodCommentRate    | 好评率         | 店员的好评比例，百分比                   |
| favoriteCount      | 收藏数         | 被用户收藏的次数                         |
| topEndTime         | 置顶结束时间   | 店员动态置顶的结束时间                   |
| priorityRate       | 抢单优先率     | 店员抢单时的优先级提升百分比             |
| customPriceRate    | 自定义价格比例 | 店员可设置的服务价格上限提升比例         |
| yearlyExtraBonus   | 年度超额分成   | 店员是否获得年度超额分成奖励             |

### 3. 店员等级体系字段

| 字段名           | 描述       | 业务意义                               |
| ---------------- | ---------- | -------------------------------------- |
| sellerLevelId    | 等级 ID    | 店员等级的唯一标识                     |
| sellerLevelName  | 等级名称   | 等级的显示名称，如"见习生"、"启明星"等 |
| sellerLevelValue | 等级值     | 等级的数值，0-5 级                     |
| expRequired      | 所需经验值 | 达到该等级所需的最低经验值             |
| commissionRate   | 分成比例   | 该等级店员的订单分成比例               |
| privileges       | 等级特权   | 该等级拥有的特权，JSON 格式存储        |
| description      | 等级说明   | 对该等级的文字描述                     |

#### 店员等级体系说明

系统共设置 6 个等级(0-5 级)，每个等级对应不同的称号、分成比例和特权：

0. **见习生 (Level 0)**

   - 经验值: 0-299
   - 分成比例: 50%
   - 特权: 基础接单权限

1. **启明星 (Level 1)**

   - 经验值: 300-999
   - 分成比例: 60%
   - 特权:
     - 服务价格+10%
     - 接单时段设置

2. **银河信使 (Level 2)**

   - 经验值: 1000-2999
   - 分成比例: 65%
   - 特权:
     - 每月 1 次即时提现
     - 动态置顶特权

3. **星穹向导 (Level 3)**

   - 经验值: 3000-7999
   - 分成比例: 70%
   - 特权:
     - 抢单优先权（提升 30%）
     - 服务套餐模板

4. **心域守护者 (Level 4)**

   - 经验值: 8000-14999
   - 分成比例: 75%
   - 特权:
     - 平台首页流量扶持
     - 自定义服务价格上限+50%

5. **永恒灯塔 (Level 5)**
   - 经验值: 15000+
   - 分成比例: 80%
   - 特权:
     - 每月 2 次即时提现
     - 年度超额分成（全年 80%时间保持 5 级额外获 5%返利）

## 三、标签相关字段

| 字段名      | 描述     | 业务意义                         |
| ----------- | -------- | -------------------------------- |
| tagId       | 标签 ID  | 标签的唯一标识                   |
| tag         | 标签名称 | 标签的显示文本                   |
| tagType     | 标签类型 | 0-系统标签，1-用户自定义标签     |
| tagCategory | 标签分类 | 标签所属分类，如"性格"、"爱好"等 |
| tagWeight   | 权重     | 标签的权重，用于排序和推荐       |
| tagStatus   | 状态     | 0-禁用，1-启用                   |

## 四、收藏相关字段

| 字段名         | 描述     | 业务意义             |
| -------------- | -------- | -------------------- |
| favoriteId     | 收藏 ID  | 收藏记录的唯一标识   |
| favoriteTime   | 收藏时间 | 收藏的时间           |
| favoriteStatus | 状态     | 0-取消收藏，1-已收藏 |

## 五、微信相关字段

| 字段名       | 描述         | 业务意义                   |
| ------------ | ------------ | -------------------------- |
| appId        | 微信应用 ID  | 微信公众号或小程序的 appId |
| timestamp    | 时间戳       | 用于微信 JS-SDK 签名       |
| nonceStr     | 随机字符串   | 用于微信 JS-SDK 签名       |
| signature    | 签名         | 微信 JS-SDK 配置签名       |
| jsApiList    | JS 接口列表  | 需要使用的微信 JS 接口列表 |
| accessToken  | 接口调用凭证 | 用于调用微信接口           |
| refreshToken | 刷新令牌     | 用于刷新 accessToken       |
| expiresIn    | 过期时间     | accessToken 的有效期       |

## 六、通用字段

| 字段名     | 描述     | 业务意义                              |
| ---------- | -------- | ------------------------------------- |
| id         | 唯一标识 | 各类数据的主键                        |
| createTime | 创建时间 | 记录创建时间                          |
| updateTime | 更新时间 | 记录最后更新时间                      |
| status     | 状态     | 记录状态，通常 0 表示无效，1 表示有效 |
| remark     | 备注     | 附加说明信息                          |
| sort       | 排序     | 用于自定义排序                        |
| isDeleted  | 是否删除 | 软删除标记，0-未删除，1-已删除        |

## 七、权益相关字段

### 1. 权益基础信息字段

| 字段名          | 描述     | 业务意义                                       |
| --------------- | -------- | ---------------------------------------------- |
| benefitId       | 权益 ID  | 权益的唯一标识                                 |
| benefitName     | 权益名称 | 权益的显示名称，如"优先匹配"、"折扣服务"       |
| benefitType     | 权益类型 | 1-用户权益，2-店员权益，用于区分不同对象的权益 |
| benefitCategory | 权益分类 | 权益的分类，如"折扣类"、"功能类"、"展示类"     |
| benefitDesc     | 权益描述 | 对权益的详细文字说明                           |
| benefitIcon     | 权益图标 | 权益的图标 URL                                 |
| benefitValue    | 权益值   | 权益的具体数值，如折扣率、次数等               |
| benefitUnit     | 权益单位 | 权益值的单位，如"%"、"次"                      |
| effectiveTime   | 生效时间 | 权益的生效时间                                 |
| expireTime      | 过期时间 | 权益的过期时间                                 |
| benefitStatus   | 状态     | 0-未生效，1-生效中，2-已过期                   |
| benefitLevel    | 权益等级 | 权益对应的等级要求                             |
| benefitPriority | 优先级   | 权益的显示优先级                               |

### 2. 用户权益关联字段

| 字段名            | 描述        | 业务意义                                               |
| ----------------- | ----------- | ------------------------------------------------------ |
| userBenefitId     | 用户权益 ID | 用户权益关联的唯一标识                                 |
| userId            | 用户 ID     | 关联的用户 ID                                          |
| benefitId         | 权益 ID     | 关联的权益 ID                                          |
| userBenefitStatus | 状态        | 用户权益的状态，0-未激活，1-已激活，2-已使用，3-已过期 |
| activateTime      | 激活时间    | 用户权益的激活时间                                     |
| usedCount         | 已使用次数  | 权益已使用的次数，用于限次权益                         |
| remainCount       | 剩余次数    | 权益剩余可用次数                                       |
| userBenefitRemark | 备注        | 用户权益的备注信息                                     |

### 3. 店员权益关联字段

| 字段名              | 描述        | 业务意义                                               |
| ------------------- | ----------- | ------------------------------------------------------ |
| sellerBenefitId     | 店员权益 ID | 店员权益关联的唯一标识                                 |
| sellerId            | 店员 ID     | 关联的店员 ID                                          |
| benefitId           | 权益 ID     | 关联的权益 ID                                          |
| sellerBenefitStatus | 状态        | 店员权益的状态，0-未激活，1-已激活，2-已使用，3-已过期 |
| activateTime        | 激活时间    | 店员权益的激活时间                                     |
| usedCount           | 已使用次数  | 权益已使用的次数，用于限次权益                         |
| remainCount         | 剩余次数    | 权益剩余可用次数                                       |
| sellerBenefitRemark | 备注        | 店员权益的备注信息                                     |
